(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[7],{227:function(e,a,s){"use strict";s.d(a,"a",(function(){return l}));var t=s(2),n=s(77),i=s(57),o=s.n(i),l=(o()().format("hh:mm:ss  DD/MM/YYYY"),o()().format("hh:mm:ss  DD/MM/YYYY"),o()().format("hh:mm:ss  DD/MM/YYYY"),o()().format("hh:mm:ss  DD/MM/YYYY"),o()().format("hh:mm:ss  DD/MM/YYYY"),o()().format("hh:mm:ss  DD/MM/YYYY"),function(e,a){return function(s){s({type:t.x}),Object(n.a)(e).then((function(n){return s({type:t.y,payload:{message:{date:o()().format("hh:mm:ss  DD/MM/YYYY"),text:e,mine:"mine"},id:a}})})).catch((function(e){s({type:t.w,err:e})}))}})},281:function(e,a,s){"use strict";s.r(a);var t=s(0),n=s.n(t),i=s(8),o=s(27),l=s(10),m=s(21),c=s(227),r=s(20),d=s(243),g=s.n(d),u=(s(100),Object(o.g)((function(e){var a=e.isLogged,s=e.match,i=e.friendsMessages,o=e.myMessages,c=e.myPhoto,d=e.sendMessage,u=e.isLoading,_=s.params.id,f=function(e,a,s){var n=Object(t.useState)(""),i=Object(m.a)(n,2),o=i[0],c=i[1],r=Object(t.useState)([]),d=Object(m.a)(r,2),g=d[0],u=d[1],_=e.filter((function(e){return e.id==s}))[0];return Object(t.useEffect)((function(){var e=a.filter((function(e){return e.id==s}))[0],t=(e?[].concat(Object(l.a)(_.messages),Object(l.a)(e.messages)):Object(l.a)(_.messages)).sort((function(e,a){return e.date.split("/").reverse()>a.date.split("/").reverse()?1:-1}));u(t)}),[e,a]),{handleInput:Object(t.useCallback)((function(e){var a=e.target.value;c(a)}),[o]),handleSendMessage:Object(t.useCallback)((function(e){c("")}),[o]),conversation:g,dialog:_,textInput:o}}(i,o,_),h=f.handleInput,p=f.handleSendMessage,Y=f.conversation,M=f.dialog,E=f.textInput;return n.a.createElement("div",{className:"dialogs"},n.a.createElement("div",{className:"dialogs__header"},n.a.createElement("div",{className:"dialogs__photo"},n.a.createElement("img",{src:M.img,alt:"photo",className:"dialogs__img"})),n.a.createElement("div",{className:"dialogs__name"},M.from),n.a.createElement("p",{className:M.online?"dialogs__online":"hidden"},"online"),n.a.createElement("p",{className:M.online?"hidden":"dialogs__offline"},"offline")),u?n.a.createElement(r.a,null):n.a.createElement(g.a,{className:"dialogs__scroll"},n.a.createElement("ul",{className:"dialogs__list"},Y.map((function(e){return n.a.createElement("li",{key:Math.random(),className:e.mine?"dialogs__my":"dialogs__outcome"},n.a.createElement("div",{className:e.mine?"hidden":"dialogs__photo  dialogs__photo--message"},n.a.createElement("img",{src:M.img,alt:"photo",className:"dialogs__img"})),n.a.createElement("div",{className:e.mine?"dialogs__info dialogs__info--my":"dialogs__info "},n.a.createElement("div",{className:"dialogs__date"},e.date),n.a.createElement("div",{className:"dialogs__text"},e.text)),n.a.createElement("div",{className:e.mine?"dialogs__photo dialogs__photo--message":"hidden"},n.a.createElement("img",{src:c,alt:"photo",className:"dialogs__img"})))}))),n.a.createElement("form",{className:a?"dialogs__form":"hidden"},n.a.createElement("input",{type:"text",name:"messageField",className:"dialogs__input",onChange:h,value:E}),n.a.createElement("button",{className:"btn dialogs__btn",onClick:function(e){e.preventDefault(),d(E,_),p()},disabled:0===E.length},"SEND"))))}))),_=Object(i.b)((function(e){return{isLogged:e.logIn.isLogged,friendsMessages:e.messages.friendsMessages,myMessages:e.messages.myMessages,isLoading:e.messages.isLoading,myPhoto:e.profile.photo}}),{sendMessage:c.a})(u);a.default=_}}]);
//# sourceMappingURL=7.334419cf.chunk.js.map